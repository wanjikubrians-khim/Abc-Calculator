<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>carebearbooks - Payroll Calculator (Standalone)</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            text-align: center;
            padding: 30px;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 300;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Progress Bar */
        .progress-bar {
            display: flex;
            background: #f8f9fa;
            padding: 20px 0;
            justify-content: space-around;
            border-bottom: 1px solid #e9ecef;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0.5;
            transition: all 0.3s ease;
        }

        .step.active {
            opacity: 1;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .step.active .step-number {
            background: #007bff;
            color: white;
        }

        .step-title {
            font-size: 0.9rem;
            font-weight: 500;
            text-align: center;
        }

        /* Step Content */
        .step-content {
            display: none;
            padding: 40px;
            min-height: 500px;
        }

        .step-content.active {
            display: block;
        }

        .step-content h2 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 1.8rem;
            font-weight: 300;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        input[type="text"],
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: #007bff;
        }

        /* Button Styles */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
            transform: translateY(-2px);
        }

        .navigation-buttons {
            margin-top: 30px;
            text-align: center;
        }

        /* Wage Display */
        .wage-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .wage-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #007bff;
        }

        .wage-item label {
            display: block;
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 10px;
        }

        .wage-item span {
            font-size: 1.5rem;
            font-weight: bold;
            color: #007bff;
        }

        /* Breakdown Display */
        .employee-summary {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #007bff;
        }

        .employee-summary h3 {
            color: #007bff;
            font-weight: 500;
        }

        .breakdown-display {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
        }

        .gross-pay {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }

        .gross-pay h4 {
            font-size: 1.3rem;
            color: #28a745;
        }

        .gross-pay span {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .deductions h4 {
            margin-bottom: 20px;
            color: #dc3545;
            font-size: 1.2rem;
        }

        .deduction-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .deduction-item:last-child {
            border-bottom: none;
        }

        .total-deductions {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            border-left: 4px solid #ffc107;
        }

        .net-pay {
            margin-top: 30px;
            text-align: center;
            padding-top: 20px;
            border-top: 2px solid #28a745;
        }

        .net-pay h4 {
            margin-bottom: 10px;
            color: #28a745;
        }

        .net-pay span {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .standalone-notice {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .standalone-notice strong {
            color: #0c5460;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>carebearbooks</h1>
            <p>Payroll Calculator System</p>
        </header>

        <!-- Progress Indicator -->
        <div class="progress-bar">
            <div class="step active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-title">Employee Information</div>
            </div>
            <div class="step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-title">Wage Calculator</div>
            </div>
            <div class="step" data-step="3">
                <div class="step-number">3</div>
                <div class="step-title">Cost Breakdown</div>
            </div>
        </div>

        <!-- Step 1: Employee Information Input -->
        <div class="step-content active" id="step1">
            <div class="standalone-notice">
                <strong>Standalone Version:</strong> This version runs without Node.js and calculates locally. For Google Sheets integration, install Node.js and run the full version.
            </div>
            <h2>Step 1: Employee Information Input</h2>
            <form id="employeeForm">
                <div class="form-group">
                    <label for="employeeName">Employee Name:</label>
                    <input type="text" id="employeeName" name="employeeName" required>
                </div>
                <div class="form-group">
                    <label for="employeeId">Employee ID:</label>
                    <input type="text" id="employeeId" name="employeeId" required>
                </div>
                <div class="form-group">
                    <label for="department">Department:</label>
                    <input type="text" id="department" name="department" required>
                </div>
                <div class="form-group">
                    <label for="hourlyRate">Hourly Rate ($):</label>
                    <input type="number" id="hourlyRate" name="hourlyRate" step="0.01" min="0" required>
                </div>
                <div class="form-group">
                    <label for="hoursPerDay">Hours per Day:</label>
                    <input type="number" id="hoursPerDay" name="hoursPerDay" step="0.5" min="0" max="24" required>
                </div>
                <div class="form-group">
                    <label for="daysPerWeek">Days per Week:</label>
                    <input type="number" id="daysPerWeek" name="daysPerWeek" step="1" min="1" max="7" required>
                </div>
                <div class="form-group">
                    <label for="weeksPerYear">Weeks per Year:</label>
                    <input type="number" id="weeksPerYear" name="weeksPerYear" step="1" min="1" max="52" value="52" required>
                </div>
                <div class="form-group">
                    <label for="federalTaxRate">Federal Income Tax Rate (%):</label>
                    <input type="number" id="federalTaxRate" name="federalTaxRate" step="0.01" min="0" max="50" required>
                </div>
                <button type="submit" class="btn btn-primary">Calculate Payroll</button>
            </form>
        </div>

        <!-- Step 2: Employee Wage Calculator -->
        <div class="step-content" id="step2">
            <h2>Step 2: Employee Wage Calculator</h2>
            <div class="wage-display">
                <div class="wage-item">
                    <label>Daily Pay:</label>
                    <span id="dailyPay">$0.00</span>
                </div>
                <div class="wage-item">
                    <label>Weekly Pay:</label>
                    <span id="weeklyPay">$0.00</span>
                </div>
                <div class="wage-item">
                    <label>Monthly Wage:</label>
                    <span id="monthlyWage">$0.00</span>
                </div>
                <div class="wage-item">
                    <label>Annual Pay:</label>
                    <span id="annualPay">$0.00</span>
                </div>
            </div>
            <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="goToStep(1)">Back to Employee Info</button>
                <button class="btn btn-primary" onclick="goToStep(3)">Continue to Cost Breakdown</button>
            </div>
        </div>

        <!-- Step 3: Employee Cost Breakdown -->
        <div class="step-content" id="step3">
            <h2>Step 3: Employee Cost Breakdown</h2>
            <div class="employee-summary">
                <h3 id="employeeSummary">Employee: </h3>
            </div>
            <div class="breakdown-display">
                <div class="gross-pay">
                    <h4>Gross Annual Pay: <span id="grossAnnualPay">$0.00</span></h4>
                </div>
                <div class="deductions">
                    <h4>Deductions:</h4>
                    <div class="deduction-item">
                        <label>Social Security (6.2%):</label>
                        <span id="socialSecurity">$0.00</span>
                    </div>
                    <div class="deduction-item">
                        <label>Medicare (1.45%):</label>
                        <span id="medicare">$0.00</span>
                    </div>
                    <div class="deduction-item">
                        <label>WA PFML (0.5794%):</label>
                        <span id="waPfml">$0.00</span>
                    </div>
                    <div class="deduction-item">
                        <label>WA Cares (0.58%):</label>
                        <span id="waCares">$0.00</span>
                    </div>
                    <div class="deduction-item">
                        <label>Federal Income Tax:</label>
                        <span id="federalTax">$0.00</span>
                    </div>
                    <div class="deduction-item">
                        <label>L.N.I Workers Comp (0.7963%):</label>
                        <span id="workersComp">$0.00</span>
                    </div>
                    <div class="total-deductions">
                        <label><strong>Total Deductions:</strong></label>
                        <span id="totalDeductions"><strong>$0.00</strong></span>
                    </div>
                </div>
                <div class="net-pay">
                    <h4>Net Pay: <span id="netPay">$0.00</span></h4>
                    <h4>Net Take-Home Pay: <span id="netTakeHomePay">$0.00</span></h4>
                </div>
            </div>
            <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="goToStep(2)">Back to Wage Calculator</button>
                <button class="btn btn-primary" onclick="goToStep(1)">Start New Calculation</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let employeeData = {};

        // Form submission
        document.getElementById('employeeForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            employeeData = Object.fromEntries(formData.entries());
            
            // Calculate payroll
            calculatePayroll();
            
            // Go to step 2
            goToStep(2);
        });

        function calculatePayroll() {
            const hourlyRate = parseFloat(employeeData.hourlyRate);
            const hoursPerDay = parseFloat(employeeData.hoursPerDay);
            const daysPerWeek = parseFloat(employeeData.daysPerWeek);
            const weeksPerYear = parseFloat(employeeData.weeksPerYear);
            const federalTaxRate = parseFloat(employeeData.federalTaxRate) / 100;

            // Calculate wages
            const dailyPay = hourlyRate * hoursPerDay;
            const weeklyPay = dailyPay * daysPerWeek;
            const monthlyWage = weeklyPay * weeksPerYear / 12;
            const annualPay = weeklyPay * weeksPerYear;

            // Calculate deductions (exact percentages from assignment)
            const socialSecurity = annualPay * 0.062;
            const medicare = annualPay * 0.0145;
            const waPfml = annualPay * 0.005794;
            const waCares = annualPay * 0.0058;
            const federalTax = annualPay * federalTaxRate;
            const workersComp = annualPay * 0.007963;

            const totalDeductions = socialSecurity + medicare + waPfml + waCares + federalTax + workersComp;
            const netPay = annualPay - totalDeductions;

            // Update display
            document.getElementById('dailyPay').textContent = formatCurrency(dailyPay);
            document.getElementById('weeklyPay').textContent = formatCurrency(weeklyPay);
            document.getElementById('monthlyWage').textContent = formatCurrency(monthlyWage);
            document.getElementById('annualPay').textContent = formatCurrency(annualPay);

            document.getElementById('grossAnnualPay').textContent = formatCurrency(annualPay);
            document.getElementById('socialSecurity').textContent = formatCurrency(socialSecurity);
            document.getElementById('medicare').textContent = formatCurrency(medicare);
            document.getElementById('waPfml').textContent = formatCurrency(waPfml);
            document.getElementById('waCares').textContent = formatCurrency(waCares);
            document.getElementById('federalTax').textContent = formatCurrency(federalTax);
            document.getElementById('workersComp').textContent = formatCurrency(workersComp);
            document.getElementById('totalDeductions').textContent = formatCurrency(totalDeductions);
            document.getElementById('netPay').textContent = formatCurrency(netPay);
            document.getElementById('netTakeHomePay').textContent = formatCurrency(netPay);

            document.getElementById('employeeSummary').textContent = 
                `Employee: ${employeeData.employeeName} (ID: ${employeeData.employeeId})`;
        }

        function goToStep(step) {
            currentStep = step;

            // Update progress bar
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.querySelector(`.step[data-step="${step}"]`).classList.add('active');

            // Update step content
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`step${step}`).classList.add('active');
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD'
            }).format(amount || 0);
        }
    </script>
</body>
</html>
